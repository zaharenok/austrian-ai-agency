(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[638],{2403:(e,t,a)=>{"use strict";a.d(t,{ContactClient:()=>b});var r=a(5155),n=a(2115),s=a(2619),i=a.n(s),o=a(5626),l=a(2317),c=a(3998),d=a(4269),u=a(9304);function g(e){let{className:t}=e;return(0,r.jsxs)("div",{className:(0,d.cn)("flex space-x-2",t),children:[(0,r.jsx)("div",{className:"h-2 w-2 animate-bounce rounded-full bg-muted-foreground/20 [animation-delay:-0.3s]"}),(0,r.jsx)("div",{className:"h-2 w-2 animate-bounce rounded-full bg-muted-foreground/20 [animation-delay:-0.15s]"}),(0,r.jsx)("div",{className:"h-2 w-2 animate-bounce rounded-full bg-muted-foreground/20"})]})}function f(e){let{variant:t="received",className:a,children:n}=e;return(0,r.jsx)("div",{className:(0,d.cn)("flex items-start gap-2 mb-4","sent"===t&&"flex-row-reverse",a),children:n})}function h(e){let{variant:t="received",isLoading:a,className:n,children:s}=e;return(0,r.jsx)("div",{className:(0,d.cn)("rounded-lg p-3","sent"===t?"bg-primary text-primary-foreground":"bg-muted text-foreground",n),children:a?(0,r.jsx)("div",{className:"flex items-center space-x-2",children:(0,r.jsx)(g,{})}):s})}function m(e){let{src:t,fallback:a="AI",className:n}=e;return(0,r.jsxs)(u.eu,{className:(0,d.cn)("h-8 w-8",n),children:[t&&(0,r.jsx)(u.BK,{src:t}),(0,r.jsx)(u.q5,{children:a})]})}function p(e){let{children:t}=e;return(0,r.jsx)("div",{className:"flex flex-col gap-2 p-4",children:t})}var v=a(2474);let x="https://n8n.aaagency.at/webhook/1eac4cc6-3cc6-4455-b740-73cd625f87e0";function b(){var e;let{t,locale:a}=(0,v.c)(),[s,d]=(0,n.useState)([{id:1,content:t("chatBot.greeting"),sender:"ai",animated:!1}]),[u,g]=(0,n.useState)(""),[b,y]=(0,n.useState)(!1),[j,w]=(0,n.useState)(!1),[k,N]=(0,n.useState)(""),B=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],a=(0,n.useRef)(null);return(0,n.useEffect)(()=>{if(!a.current)return;let e=a.current,r=t=>{let{scrollTop:a,scrollHeight:r,clientHeight:n}=e;(0===a&&t.deltaY<0||a+n>=r-1&&t.deltaY>0)&&t.preventDefault()};e.addEventListener("wheel",r,{passive:!1});let n=setTimeout(()=>{t?e.scrollTo({top:e.scrollHeight,behavior:"smooth"}):e.scrollTop=e.scrollHeight},50);return()=>{clearTimeout(n),e.removeEventListener("wheel",r)}},[...e,t]),a}([s,b,j]),S=(0,n.useRef)([]),T=(0,n.useRef)((null==(e=window.crypto)?void 0:e.randomUUID)?window.crypto.randomUUID():"chat-".concat(Date.now())),E=(0,n.useMemo)(()=>({id:Number.MAX_SAFE_INTEGER,content:"string"==typeof t("chatBot.rateLimit")?t("chatBot.rateLimit"):"Please wait a few seconds before sending another message.",sender:"ai",animated:!0}),[t]),C=(0,n.useCallback)(async e=>{let r=function(e){let t=e.replace(/[\r\n\t]+/g," ");for(let e of((t=(t=t.replace(/<[^>]*>?/g,"")).replace(/\s{2,}/g," ").trim()).length>500&&(t=t.slice(0,500)),[/<\s*script/i,/javascript:/i]))e.test(t)&&(t=t.replace(e,""));return t}(e);if(!r)return;if(k.trim().length>0)return void console.warn("[Security] Honeypot triggered, aborting submission.");let n=Date.now(),s=S.current.filter(e=>n-e<6e4);if(s.length>=6){d(e=>[...e,{...E,id:e.length+1}]),y(!1),w(!1);return}s.push(n),S.current=s,d(e=>[...e,{id:e.length+1,content:r,sender:"user",animated:!0}]),y(!0),w(!0);try{let e={message:r,timestamp:new Date().toISOString(),userAgent:"undefined"!=typeof navigator?navigator.userAgent:"unknown",locale:a,language:{en:"english",de:"german",ru:"russian"}[a]||"english",sessionId:T.current},n=null,s=!0;if("localhost"===window.location.hostname||window.location.hostname.includes("127.0.0.1"))try{let t=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:r,locale:a,sessionId:e.sessionId,timestamp:e.timestamp,honeypot:k}),cache:"no-store"});if(t.ok)n=await t.json(),s=!1;else if(429===t.status){console.warn("[Security] Proxy request blocked."),y(!1),w(!1);return}}catch(e){console.log("Proxy request failed, falling back to direct webhook",e)}if(s&&x){let a=await fetch(x,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),cache:"no-store"});if(a.ok){let e=await a.json(),r=t("chatBot.response");if(e){var i;Array.isArray(e)&&(null==(i=e[0])?void 0:i.output)?r=e[0].output:(null==e?void 0:e.output)&&(r=e.output)}n={response:r}}else throw Error("N8N webhook failed with status ".concat(a.status))}n||(n={response:t("chatBot.response")}),setTimeout(()=>{d(e=>[...e,{id:e.length+1,content:(null==n?void 0:n.response)||t("chatBot.response"),sender:"ai",animated:!0}]),y(!1),w(!1)},1300)}catch(a){console.error("Error contacting webhook:",a);let e=a instanceof Error?"".concat(a.name,": ").concat(a.message):String(a);setTimeout(()=>{d(a=>[...a,{id:a.length+1,content:"".concat("string"==typeof t("chatBot.errorResponse")?t("chatBot.errorResponse"):"Извините, произошла ошибка. Попробуйте позже."," (Тех. информация: ").concat(e,")"),sender:"ai",animated:!0}]),y(!1),w(!1)},600)}},[k,a,t]),I=(0,n.useCallback)(async()=>{u.trim()&&!b&&(g(""),await C(u))},[C,u,b]);return(0,r.jsxs)("div",{className:"mx-auto flex max-w-3xl flex-col gap-4",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)(i(),{href:"/".concat(a),children:(0,r.jsxs)(c.$,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[(0,r.jsx)(o.A,{className:"h-4 w-4"}),t("navigation.backToHome")]})})}),(0,r.jsxs)("div",{className:"rounded-3xl border border-primary/10 bg-white/80 shadow-lg backdrop-blur-lg dark:bg-white/10",children:[(0,r.jsxs)("div",{className:"border-b p-4 text-center",children:[(0,r.jsx)("h1",{className:"text-xl font-semibold text-foreground",children:t("chatBot.title")}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:t("chatBot.subtitle")})]}),(0,r.jsx)("div",{ref:B,className:"chat-container h-[360px] overflow-y-auto p-4",children:(0,r.jsxs)(p,{children:[s.map(e=>(0,r.jsx)("div",{className:"transition-all duration-300 ease-in-out ".concat(e.animated?"animate-fade-in animate-slide-up":""),style:{opacity:1,transform:"translateY(0)"},children:(0,r.jsxs)(f,{variant:"user"===e.sender?"sent":"received",children:[(0,r.jsx)(m,{className:"h-8 w-8 shrink-0",src:"user"===e.sender?"/user-avatar.png":"/company-logo.png",fallback:"user"===e.sender?"YOU":"AI"}),(0,r.jsx)(h,{variant:"user"===e.sender?"sent":"received",children:e.content})]})},e.id)),b&&(0,r.jsx)("div",{className:"animate-fade-in animate-slide-up",children:(0,r.jsxs)(f,{variant:"received",children:[(0,r.jsx)(m,{className:"h-8 w-8 shrink-0",src:"/company-logo.png",fallback:"AI"}),(0,r.jsx)(h,{isLoading:!0})]})}),j&&(0,r.jsx)("div",{className:"my-2 text-center text-xs text-muted-foreground animate-pulse",children:"string"==typeof t("chatBot.searchingInfo")?t("chatBot.searchingInfo"):"Ищу информацию в базе знаний..."})]})}),(0,r.jsxs)("div",{className:"relative border-t p-4",children:[(0,r.jsx)("div",{className:"rounded-full border bg-background focus-within:ring-1 focus-within:ring-primary",children:(0,r.jsxs)("div",{className:"flex items-center p-1",children:[(0,r.jsx)("input",{type:"text",value:u,onChange:e=>g(e.target.value),placeholder:"string"==typeof t("chatBot.inputPlaceholder")?t("chatBot.inputPlaceholder"):"Type your message...",className:"flex-1 border-0 bg-transparent px-3 py-2 text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-0",onKeyDown:async e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),await I())},disabled:b}),(0,r.jsxs)(c.$,{onClick:I,className:"flex items-center gap-2 rounded-full bg-primary px-4 py-2 text-primary-foreground hover:bg-primary/90",disabled:b,children:["string"==typeof t("chatBot.sendButton")?t("chatBot.sendButton"):"Send",(0,r.jsx)(l.A,{className:"h-4 w-4"})]})]})}),(0,r.jsx)("input",{type:"text",value:k,onChange:e=>N(e.target.value),tabIndex:-1,autoComplete:"off",className:"absolute left-[-9999px] h-px w-px opacity-0","aria-hidden":"true"})]})]})]})}},2474:(e,t,a)=>{"use strict";a.d(t,{TranslationsProvider:()=>i,c:()=>o});var r=a(5155),n=a(2115);let s=(0,n.createContext)(void 0);function i(e){let{children:t,locale:a,translations:i}=e,[o,l]=(0,n.useState)(a),c=(0,n.useMemo)(()=>e=>{let t=e.split("."),a=i;for(let r of t){if("object"!=typeof a||null===a||!(r in a))return e;a=a[r]}return a},[i]);return(0,r.jsx)(s.Provider,{value:{locale:o,setLocale:l,t:c,translations:i},children:t})}function o(){let e=(0,n.useContext)(s);if(void 0===e)throw Error("useTranslations must be used within a TranslationsProvider");return e}},3131:(e,t,a)=>{"use strict";a.d(t,{AuroraBackground:()=>l});var r=a(5155),n=a(8661),s=a.n(n),i=a(4269),o=a(2115);let l=e=>{let{className:t,children:a,showRadialGradient:n=!0,...l}=e,[c,d]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{d(!0)},[]),(0,r.jsxs)("div",{...l,className:"jsx-dbf8243129daf835 "+(l&&null!=l.className&&l.className||(0,i.cn)("relative w-full bg-zinc-50 dark:bg-zinc-900 text-foreground transition-bg",t)||""),children:[(0,r.jsx)("div",{style:{background:"linear-gradient(35deg, rgba(59,130,246,0.45) 0%, rgba(147,51,234,0.35) 40%, rgba(236,72,153,0.25) 70%, rgba(59,130,246,0.55) 100%)",filter:"blur(110px)",opacity:.4*!!c,transition:"opacity 1s ease-in-out",animation:"auroraMove 15s ease-in-out infinite alternate"},className:"jsx-dbf8243129daf835 absolute inset-0 z-0"}),(0,r.jsx)("div",{style:{background:"radial-gradient(circle at 70% 30%, rgba(59,130,246,0.6) 0%, rgba(59,130,246,0) 30%), radial-gradient(circle at 30% 70%, rgba(147,51,234,0.6) 0%, rgba(147,51,234,0) 30%)",filter:"blur(80px)",opacity:.55*!!c,transition:"opacity 1s ease-in-out",animation:"auroraRotate 20s ease-in-out infinite"},className:"jsx-dbf8243129daf835 absolute inset-0 z-0"}),(0,r.jsx)("div",{style:{backgroundImage:"radial-gradient(circle at 50% 10%, rgba(255,255,255,0.4) 0%, rgba(255,255,255,0) 20%)",opacity:.45*!!c,transition:"opacity 1s ease-in-out",animation:"auroraBlink 8s ease-in-out infinite"},className:"jsx-dbf8243129daf835 absolute inset-0 z-0"}),n&&(0,r.jsx)("div",{className:"jsx-dbf8243129daf835 absolute inset-0 z-10 bg-gradient-to-br from-background via-background/40 to-transparent"}),(0,r.jsx)("div",{className:"jsx-dbf8243129daf835 relative z-20 w-full",children:a}),(0,r.jsx)(s(),{id:"dbf8243129daf835",children:"@keyframes auroraMove{0%{background-position:0%0%}50%{background-position:100%50%}100%{background-position:0%100%}}@keyframes auroraRotate{0%{transform:rotate(0deg)scale(1)}50%{transform:rotate(180deg)scale(1.2)}100%{transform:rotate(360deg)scale(1)}}@keyframes auroraBlink{0%,100%{opacity:.6}50%{opacity:.9}}"})]})}},3998:(e,t,a)=>{"use strict";a.d(t,{$:()=>l});var r=a(5155);a(2115);var n=a(6673),s=a(3101),i=a(4269);let o=(0,s.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:a,size:s,asChild:l=!1,...c}=e,d=l?n.DX:"button";return(0,r.jsx)(d,{"data-slot":"button",className:(0,i.cn)(o({variant:a,size:s,className:t})),...c})}},4269:(e,t,a)=>{"use strict";a.d(t,{cn:()=>s});var r=a(2821),n=a(5889);function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.QP)((0,r.$)(t))}},6853:(e,t,a)=>{Promise.resolve().then(a.bind(a,2403)),Promise.resolve().then(a.bind(a,3131))}},e=>{e.O(0,[53,859,441,255,358],()=>e(e.s=6853)),_N_E=e.O()}]);